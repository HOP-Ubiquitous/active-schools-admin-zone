<div class="main-container-inner-right">

  <!-- TODO Mejorar o incluso separar New Challenge y Edit Challenge -->

  <div class="new-route-form" ng-show="('challenges.new_challenge' | routeSegmentEqualsTo) || ('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)">

    <form>

      <input type="text"
             ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
             placeholder="Name"
             class="input-text"
             ng-model="newChallenge.challenge.name"
             required>
      <input type="text"
             ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
             placeholder="Name"
             class="input-text"
             ng-model="editChallenge.challenge.name"
             required>

      <input type="number"
             ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
             placeholder="Period"
             class="input-text"
             ng-model="newChallenge.challenge.period"
             required>
      <input type="number"
             ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
             placeholder="Period"
             class="input-text"
             ng-model="editChallenge.challenge.period"
             required>

      <!--<select-->
        <!--ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"-->
        <!--ng-model="newChallenge.challenge.unit">-->
        <!--<option value="Minutes">Minutes</option>-->
        <!--<option value="Reps">Reps</option>-->
      <!--</select>-->
      <!--<select-->
        <!--ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"-->
        <!--ng-model="editChallenge.challenge.unit">-->
        <!--<option value="Minutes">Minutes</option>-->
        <!--<option value="Reps">Reps</option>-->
      <!--</select>-->

      <div class="dropdown-challenge"
           ng-click="(showOptions = !showOptions)">
        <span class="span-add-challenge" ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)">{{newChallenge.challenge.unit || 'Select Unit'}}</span>
        <span class="span-add-challenge" ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)">{{editChallenge.challenge.unit || 'Select Unit'}}</span>
        <div class="rombo-select">
          <span class="fas fa-chevron-down"></span>
        </div>
      </div>

      <div class="dropdown-challenge-container" ng-show="showOptions">

        <div class="dropdown-option"
             ng-show="('challenges.new_challenge' | routeSegmentEqualsTo) || ('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
             ng-repeat="unit in ['Minutes', 'Reps']">

          <div class="dropdown-option-left"
               ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
               ng-click="newChallenge.getUnit(unit)">
            <span>{{unit}}</span>
          </div>

          <div class="dropdown-option-left"
               ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
               ng-click="editChallenge.getUnit(unit)">
            <span>{{unit}}</span>
          </div>

          <div class="drodown-option-right">

          </div>

        </div>

      </div>

      <input type="number"
             ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
             placeholder="Bonus"
             class="input-text"
             ng-model="newChallenge.challenge.bonus"
             required>
      <input type="number"
             ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
             placeholder="Bonus"
             class="input-text"
             ng-model="editChallenge.challenge.bonus"
             required>

      <hr class="space-new-route">

      <div class="post-tabs-container">

        <div class="post-tab"
             ng-class="{ 'post-tab-selected' : showUrlVideo }"
             ng-init="showUrlVideo = true"
             ng-click="showUrlVideo = true; showUploadVideo = false">
          <span>Youtube Video</span>
        </div>

        <div class="post-tab"
             ng-class="{ 'post-tab-selected' : showUploadVideo }"
             ng-click="showUploadVideo = true; showUrlVideo = false">
          <span>Upload Video</span>
        </div>
      </div>

      <input type="url" placeholder="Youtube URL" class="input-text" ng-model="newChallenge.challenge.video" ng-show="showUrlVideo === true && ('challenges.new_challenge' | routeSegmentEqualsTo)" required>
      <input type="url" placeholder="Youtube URL" class="input-text" ng-model="editChallenge.challenge.video" ng-show="showUrlVideo === true && ('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)" required>

      <input type="url" placeholder="Upload Video" class="input-text" ng-model="newChallenge.challenge.video" ng-show="showUploadVideo === true && ('challenges.new_challenge' | routeSegmentEqualsTo)" required>
      <input type="url" placeholder="Upload Video" class="input-text" ng-model="editChallenge.challenge.video" ng-show="showUploadVideo === true && ('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)" required>

      <br>
      <div class="new-challenge-video">
        <iframe width="100%" height="100%" src="{{video}}"  >
        </iframe>
      </div>


      <div class="button-form"
           ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
           ng-click="newChallenge.save()">
        <div class="save-new-route">Add Route</div>
      </div>

      <div class="button-form"
           ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
           ng-click="editChallenge.edit()">
        <div class="save-new-route">Edit Route</div>
      </div>


    </form>

  </div>

</div>
