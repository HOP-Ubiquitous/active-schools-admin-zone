<div class="main-container-inner-right">

  <!-- TODO Mejorar o incluso separar New Challenge y Edit Challenge -->

  <div class="new-route-form" ng-show="('challenges.new_challenge' | routeSegmentEqualsTo) || ('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)">

    <form>

      <input type="text"
             ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
             placeholder="Name"
             class="input-text"
             ng-model="newChallenge.challenge.name"
             required>

      <input type="text"
             ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
             placeholder="Name"
             class="input-text"
             ng-model="editChallenge.challenge.name"
             required>

      <!-- TODO Revisar como introducir el parámetro en las fuciones de la directiva -->

      <dropdown show-dropdown="('challenges.new_challenge' | routeSegmentEqualsTo)"
                active-dropdown="showCategory"
                model="newChallenge.challenge.category"
                placeholder="Select Category"
                dropdown-style="{ 'max-height': 60 + (5 * 30) + 'px',
                                  'height': 'auto' }"
                show-default-option="false"
                repeater="newChallenge.categories"
                get-option-function="newChallenge.getCategory()">
      </dropdown>

      <dropdown show-dropdown="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
                active-dropdown="showCategory"
                model="editChallenge.challenge.category"
                placeholder="Select Category"
                dropdown-style="{ 'max-height': 60 + (5 * 30) + 'px',
                                  'height': 'auto' }"
                show-default-option="false"
                repeater="editChallenge.categories"
                get-option-function="editChallenge.getCategory()">
      </dropdown>

      <textarea ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
                placeholder="Challenge Description"
                class="new-post-textArea"
                ng-model="newChallenge.challenge.description"
                required>
      </textarea>

      <textarea ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
                placeholder="Challenge Description"
                class="new-post-textArea"
                ng-model="editChallenge.challenge.description"
                required>
      </textarea>

      <input type="number"
             ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
             placeholder="Target"
             class="input-text"
             ng-model="newChallenge.challenge.target"
             required>
      <input type="number"
             ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
             placeholder="Target"
             class="input-text"
             ng-model="editChallenge.challenge.target"
             required>

      <!-- TODO Revisar como introducir el parámetro en las fuciones de la directiva -->

      <dropdown show-dropdown="('challenges.new_challenge' | routeSegmentEqualsTo)"
                active-dropdown="showOptions"
                model="newChallenge.challenge.unit"
                placeholder="Select Unit"
                dropdown-style="{ 'max-height': 60 + (3 * 30) + 'px',
                                  'height': 'auto' }"
                show-default-option="false"
                repeater="newChallenge.units"
                get-option-function="newChallenge.getUnit()">
      </dropdown>

      <dropdown show-dropdown="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
                active-dropdown="showOptions"
                model="editChallenge.challenge.unit"
                placeholder="Select Unit"
                dropdown-style="{ 'max-height': 60 + (3 * 30) + 'px',
                                  'height': 'auto' }"
                show-default-option="false"
                repeater="editChallenge.units"
                get-option-function="editChallenge.getUnit()">
      </dropdown>

      <input type="number"
             ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)"
             placeholder="Experience"
             class="input-text"
             ng-model="newChallenge.challenge.exp"
             required>
      <input type="number"
             ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
             placeholder="Experience"
             class="input-text"
             ng-model="editChallenge.challenge.exp"
             required>

      <input type="url" placeholder="Youtube URL" class="input-text" ng-model="newChallenge.challenge.video" ng-show="('challenges.new_challenge' | routeSegmentEqualsTo)" required>
      <input type="url" placeholder="Youtube URL" class="input-text" ng-model="editChallenge.challenge.video" ng-show="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)" required>

      <br>

      <div class="new-challenge-video">
        <iframe width="100%" height="100%" src="{{video}}"  >
        </iframe>
      </div>

      <button-form show-button="('challenges.new_challenge' | routeSegmentEqualsTo)"
                   click-button="newChallenge.save()"
                   text-button="Add Route">
      </button-form>

      <button-form show-button="('challenges.edit_challenge.challenge_id' | routeSegmentEqualsTo)"
                   click-button="editChallenge.edit()"
                   text-button="Edit Route">
      </button-form>

    </form>

  </div>

</div>
