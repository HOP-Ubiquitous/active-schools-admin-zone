<div class="root2">

  <main-menu></main-menu>

<div class="main-container">

  <section-header ng-show="('routes.new_route' | routeSegmentEqualsTo)"
                  title="Routes - New Route"
                  icon="fas fa-route"
                  show-close="true"
                  close-function="newRoute.goToRoute()">
  </section-header>

  <section-header ng-show="('routes.edit_route.route_id' | routeSegmentEqualsTo)"
                  title="Routes - Edit Route"
                  icon="fas fa-route"
                  show-close="true"
                  close-function="editRoute.goToRoute()">
  </section-header>

  <div class="main-container-inner">

    <div class="new-route-map">
    </div>

    <!--Formulario new-route-->
    <div class="new-route-form" ng-show="('routes.new_route' | routeSegmentEqualsTo)">
      <form method="POST" class="formulario" name="user">
        <input type="text" id="name" placeholder="Name" class="cuadro-texto" ng-model="newRoute.name" required>
        <input type="text" id="city" placeholder="City" class="cuadro-texto" ng-model="newRoute.city" required>
        <input type="text" id="province" placeholder="Province" class="cuadro-texto" ng-model="newRoute.province" required>
        <input type="text" id="country" placeholder="Country" class="cuadro-texto" ng-model="newRoute.country" required>
        <hr class="space-new-route">
        <div class="layer-select">
          <div class="select" ng-click="(showOptions = !showOptions)">
            <span class="span-add-challenge">Add challenge</span>
            <div class="rombo-select" >
              <i class="fas fa-chevron-down image-rombo-select"></i>
            </div>
          </div>
        </div>

        <div class="select-options" ng-show="showOptions" id="challenges">

          <table class="table-options">
            <tbody ng-repeat="newRoutes in newRoute.challenges">
            <!---->
            <tr >

              <td class="boton-color" ng-click="newRoute.saveChallenge(newRoutes.name)" >{{newRoutes.name}}</td>
              <td class="option-newRoute">

                <div class="rombo-table-write" ng-click="newRoute.editRoute($index)">
                  <i class="fas fa-edit logo-write-newChallenge"></i>
                </div>

                <div class="rombo-table-delete" ng-click="newRoute.mostrarPopUp($index)">
                  <i class="fas fa-trash-alt logo-delete-newChallenge"></i>
                </div>


              </td>
            </tr>
            </tbody>
          </table>

        </div>

        <div class="buton-route" ng-click="newRoute.save()">
          <div class="save-new-route">Save New Route</div>
        </div>
      </form>

      <div id="main" class="popUp" ng-show="newRoute.deletePopUp === true">
        <div class="divPopUp">
          <h4 style="text-align: center; color: black;">Are you sure you want to delete the marked challenge?</h4>
          <div class="botones">
            <button type="submit" class="btn btn-danger" ng-click="newRoute.deleteRow($index); newRoute.deletePopUp = false">Ok</button>
            <button type="submit" class="btn btn-light"  ng-click="newRoute.deletePopUp = false">Cancel</button>
          </div>
        </div>

      </div>

    </div>

    <!--Formulario edit-route-->
    <div class="new-route-form" ng-show="('routes.edit_route.route_id' | routeSegmentEqualsTo)">
      <form method="POST" class="formulario" name="user">
        <input type="text" id="name" placeholder="Name" class="cuadro-texto" ng-model="editRoute.name" required>
        <input type="text" id="city" placeholder="City" class="cuadro-texto" ng-model="editRoute.city" required>
        <input type="text" id="province" placeholder="Province" class="cuadro-texto" ng-model="editRoute.province" required>
        <input type="text" id="country" placeholder="Country" class="cuadro-texto" ng-model="editRoute.country" required>
        <hr class="space-new-route">
        <div class="layer-select">
          <div class="select" ng-click="showOptions = !showOptions">
            <span class="span-add-challenge">Add challenge</span>
            <div class="rombo-select" >
              <i class="fas fa-chevron-down image-rombo-select"></i>
            </div>
          </div>
        </div>

        <div class="select-options" ng-show="showOptions" id="challenges">

          <table class="table-options">
            <tbody ng-repeat="editRoutes in editRoute.challenges">
            <tr>

              <td class="boton-color" ng-click="editRoute.saveChallenge(editRoutes.name)">{{editRoutes.name}}</td>
              <td class="option-newRoute">

                <div class="rombo-table-write" ng-click="editRoute.editRoute($index)">
                  <i class="fas fa-edit logo-write-newChallenge"></i>
                </div>

                <div class="rombo-table-delete" ng-click="editRoute.deleteRow($index)">
                  <i class="fas fa-trash-alt logo-delete-newChallenge"></i>
                </div>




              </td>
            </tr>
            </tbody>
          </table>

        </div>

        <div class="buton-route" ng-click="editRoute.editRoute()">
          <div class="save-new-route">Save New Route</div>
        </div>
      </form>

    </div>

  </div>

  </div>
</div>

